# ==========================
# Test Profile
# ==========================
spring.profiles.active=test

# ==========================
# Database - H2 in-memory for tests
# ==========================
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.h2.console.enabled=false

# ==========================
# OAuth2 / Auth0 - Disabled for tests
# ==========================
spring.security.oauth2.resourceserver.jwt.issuer-uri=https://dev-rhvn1b43rtt1hdap.us.auth0.com/
auth0.audience=https://my-api-identifier
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration,org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration

# ==========================
# CORS (ADD THIS)
# ==========================
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000,http://localhost:5173}

# ==========================
# Services
# ==========================
printscript.service.url=http://localhost:8080
asset.service.url=http://localhost:8081
auth.service.url=http://localhost:8083
service.api.key=test-api-key

# ==========================
# Redis
# ==========================
spring.data.redis.host=localhost
spring.data.redis.port=6379
stream.format.key=format-requests
stream.lint.key=lint-requests
groups.format=format-consumer-group
groups.lint=lint-consumer-group

# ==========================
# Server Port
# ==========================
server.port=8080